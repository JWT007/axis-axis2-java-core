<html>
<head>
  <meta http-equiv="content-type" content="">
  <title></title>
</head>

<body>
<h1>JiBX Integration With Axis2</h1>

<p>This document will explain the usage of JiBX with Axis2 in order to expose
existing Java code as a Web service and to implement a client for an existing
Web service (or the service stubs for implementing the service).</p>

<h2>Content</h2>
<ul>
  <li><a href="#intro">Introduction</a></li>
  <li><a href="#java">Starting from Java</a></li>
  <li><a href="#wsdl">Starting from WSDL</a></li>
  <li><a href="#codegen">Axis2 JiBX Code Generation</a></li>
  <li><a href="#coming">Coming Attractions</a></li>
</ul>
<a name="intro"></a>

<h2>Introduction</h2>

<p><a href="http://www.jibx.org">JiBX data binding</a> supports fast and
flexible conversions between plain old Java objects (POJOs) and XML. JiBX
uses a mapped binding approach that's based on a binding definition document
you provide. This lets you customize the way your Java objects are converted
to and from XML. These features make JiBX especially useful if you're
developing a Web service based on existing Java code.</p>

<p>Axis2 supports using JiBX with your Web services, including generating the
necessary linkage code for both client and server sides. However, the Axis2
support for JiBX doesn't currently include code generation from the schema
for a Web service - you need to provide your own data classes and JiBX
binding definition, and you also need to make sure that the binding
definition matches the XML structures defined for your Web service. The JiBX
project provides some basic tools to help with code generation from schema,
binding generation from Java classes, and schema generation from the
combination of Java classes and a binding definition. In the future, improved
versions of these tools will be integrated directly into the Axis2 framework
support, but for now you're on your own with this part of the setup.</p>

<p>You can use JiBX data binding both to expose existing Java code as a
service, and to build a client for an existing service. This document runs
through the sequence of steps involved for each of these cases, just to help
users understand the basic approach to working with JiBX in Axis2. You can
find full instructions on the standard JiBX parts of this sequence on the <a
href="http://www.jibx.org">JiBX web site</a>.</p>
<a name="java"></a>

<h2>Starting from Java</h2>

<p>Here's the sequence of steps for using JiBX with Axis2 to expose existing
Java code as a Web service:</p>
<ol>
  <li>Create a JiBX binding definition for the data being transferred by the
    Web service</li>
  <li>Create a schema that matches the XML defined by your binding (you may
    be able to use the JiBX schema generator to help with this)</li>
  <li>Create a WSDL document for your service, with the schema embedded or
    imported.</li>
  <li>Generate Axis2 server-side linkage code using WSDL2Java with the WSDL
    and your binding definition</li>
  <li>Run the JiBX binding compiler on your Java classes to add the actual
    binding code</li>
  <li>Include the <i>axis2-jibx.jar</i> in your runtime classpath, along with
    the <i>jibx-runtime.jar</i> (normally done by including these in the
    <i>axis2/WEB-INF/lib</i> directory)</li>
</ol>

<p><strong>The above is assuming:</strong></p>
<ol>
  <li>Your code already provides methods to implement the operations you want
    to expose as a Web service</li>
  <li>These methods each take a single parameter object that's unique to the
    method</li>
  <li>Each return a single response object.</li>
</ol>

<p>If this is <i>not</i> the case, you'll also need to create wrapper classes
and perhaps wrapper methods for now. See the <a
href="./jibx-example.html">JiBX example</a> for more details on this.</p>
<a name="wsdl"></a>

<h2>Starting from WSDL</h2>

<p>Here's the sequence of steps for using JiBX with Axis2 to implement a
client for an existing Web service (or the service stubs for implementing the
service):</p>
<ol>
  <li>Create Java classes for the data being transferred by the Web service,
    and a JiBX binding definition that maps these classes to the schema
    defined by the Web service (you may be able to use the JiBX xsd2jibx tool
    to help with this)</li>
  <li>Generate Axis2 client linkage code using WSDL2Java with the WSDL and
    your binding definition</li>
  <li>Run the JiBX binding compiler on your Java classes to add the actual
    binding code</li>
  <li>Include the <i>axis2-jibx.jar</i> in your runtime classpath, along with
    the <i>jibx-runtime.jar</i></li>
</ol>
<a name="codegen"></a>

<h2>Axis2 JiBX Code Generation</h2>

<p>To run the WSDL2Java tool for JiBX data binding you need:</p>
<ol>
  <li>To specify <i>-d jibx</i> to select JiBX binding.</li>
  <li>You also need an additional parameter, <i>-Ebindingfile {file}</i>
    (where <i>{file}</i> is the file path to your JiBX binding
  definition).</li>
  <li>Finally, you need to have the <i>axis2-jibx.jar</i>, the
    <i>jibx-bind-1.1beta2.jar</i>, and the <i>jibx-run-1.1beta2.jar</i> files
    from your Axis2 distribution included in the WSDL2Java classpath.</li>
</ol>
<a name="coming"></a>

<h2>Coming Attractions</h2>

<p>Soon after the release of Axis2 1.0 the JiBX support will be extended to
support automatic handling of "wrapped" doc/lit services. This will
dramatically reduce the number of classes that need to be defined for working
with simple services, and simplify both starting from Java and starting from
WSDL. </p>

<p>The full JiBX 1.1 release will also provide much improved support for code
generation from schemas, and for binding+schema generation from code, and
these features will be integrated into the Axis2 JiBX support. Check the <a
href="http://www.jibx.org">JiBX project site</a> for updates on both JiBX 1.1
and the Axis2 JiBX support.</p>
<hr>
</body>
</html>
